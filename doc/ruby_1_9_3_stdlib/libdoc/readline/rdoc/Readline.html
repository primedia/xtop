<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <!-- classpage -- >
    <!-- RD version: 0.26.0  -->
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
  
  <meta content="2014-04-26 10:52:35 -0700" http-equiv="change-date" />
  <!-- rel_prefix  = ''  ENV['RDOC_FOR_WEBSITE']   = false-->
    
    
    
  <!-- rel_prefix = '.'   asset_rel_prefix = ''  --> 
  <title>Module: Readline (Ruby 1.9.3) </title>
  <!-- link rel="stylesheet" href=".css/obf.css"  -->
  <link rel="stylesheet" href="css/inuit.css" >
  <link rel="stylesheet" href="css/grid.inuit.css" >
  <link rel="stylesheet" href="css/2011.css" type="text/css" >
  <link rel="stylesheet" href="css/rdoc.css" type="text/css" >

  <script src="/js/jquery.js" type="text/javascript" charset="utf-8"></script>
  <script src="/js/thickbox-compressed.js" type="text/javascript" charset="utf-8"></script>
  <script src="/js/quicksearch.js" type="text/javascript" charset="utf-8"></script>
  <script src="/js/rubydoc.js" type="text/javascript" charset="utf-8"></script> 

 
<script src="/js/highlight.min.js"></script>
<script> 
  hljs.tabReplace = '  ';
  hljs.initHighlightingOnLoad();
  </script> 

  <style type='text/css'>

    #vulns-alert #vulns{
      background-color: #c33 ! important;
      width: 100%;
      text-align: center;
   }
   
   #vulns-alert #vulns a {
    color: #F99 ! important;
   }
 </style>

</head>

<body id="top" class="module rdocstar">
<div id='actionbar' >
<div class='wrapper'>
  <ul class='grids g0'></ul>
</div>
<span id='vulns-alert'></span>
</div> <!-- end action bar -->
 <div class='wrapper'>
  <div id="metadata">
    <div id="home-metadata">
      <div id="home-section" class="section">
        <h3 class="section-header">
          <a href="./index.html">Home</a>
          <a href="./index.html#classes">Classes</a>
          <a href="./index.html#methods">Methods</a>
          
          
          <!-- br><a id='alternateFormatLink' class='rotate' href="#" onclick='matchingYardUrl()'>YARD version</a -->
          
        </h3>
      </div>
    </div>

    <div id="file-metadata">
      <div id="file-list-section" class="section">
        <h3 class="section-header">In Files</h3>
        <div class="section-body">
          <ul id='file-metadata'>

          
          
          
          <li class='in-file'>readline/readline.c</li>      
            
          </ul>
        </div>
      </div>

      
    </div>

    <div id="class-metadata">
      

      

      

      
      <!-- Method Quickref -->
      <div id="method-list-section" class="section">
        <h3 class="section-header">Methods</h3>
        <ul class="link-list">
          
          <li><a href="#method-c-basic_quote_characters">::basic_quote_characters</a></li>
          
          <li><a href="#method-c-basic_quote_characters-3D">::basic_quote_characters=</a></li>
          
          <li><a href="#method-c-basic_word_break_characters">::basic_word_break_characters</a></li>
          
          <li><a href="#method-c-basic_word_break_characters-3D">::basic_word_break_characters=</a></li>
          
          <li><a href="#method-c-completer_quote_characters">::completer_quote_characters</a></li>
          
          <li><a href="#method-c-completer_quote_characters-3D">::completer_quote_characters=</a></li>
          
          <li><a href="#method-c-completer_word_break_characters">::completer_word_break_characters</a></li>
          
          <li><a href="#method-c-completer_word_break_characters-3D">::completer_word_break_characters=</a></li>
          
          <li><a href="#method-c-completion_append_character">::completion_append_character</a></li>
          
          <li><a href="#method-c-completion_append_character-3D">::completion_append_character=</a></li>
          
          <li><a href="#method-c-completion_case_fold">::completion_case_fold</a></li>
          
          <li><a href="#method-c-completion_case_fold-3D">::completion_case_fold=</a></li>
          
          <li><a href="#method-c-completion_proc">::completion_proc</a></li>
          
          <li><a href="#method-c-completion_proc-3D">::completion_proc=</a></li>
          
          <li><a href="#method-c-emacs_editing_mode">::emacs_editing_mode</a></li>
          
          <li><a href="#method-c-emacs_editing_mode-3F">::emacs_editing_mode?</a></li>
          
          <li><a href="#method-c-filename_quote_characters">::filename_quote_characters</a></li>
          
          <li><a href="#method-c-filename_quote_characters-3D">::filename_quote_characters=</a></li>
          
          <li><a href="#method-c-get_screen_size">::get_screen_size</a></li>
          
          <li><a href="#method-c-input-3D">::input=</a></li>
          
          <li><a href="#method-c-line_buffer">::line_buffer</a></li>
          
          <li><a href="#method-c-output-3D">::output=</a></li>
          
          <li><a href="#method-c-point">::point</a></li>
          
          <li><a href="#method-c-readline">::readline</a></li>
          
          <li><a href="#method-c-refresh_line">::refresh_line</a></li>
          
          <li><a href="#method-c-set_screen_size">::set_screen_size</a></li>
          
          <li><a href="#method-c-vi_editing_mode">::vi_editing_mode</a></li>
          
          <li><a href="#method-c-vi_editing_mode-3F">::vi_editing_mode?</a></li>
          
        </ul>
      </div>
      

      
    </div>

    <div id="project-metadata">
      
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class/Module Index
          <span class="search-toggle"><img src="./images/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <ul class="link-list">
          
          
          
          <li><a href="./Readline.html">Readline</a></li>
        
          
          
          <li><a href="./unknown.html">unknown</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>

      
    </div>
  </div> <!-- metadata -->
  <div class='adzbox'  id="azk83167">
    
  </div> 
  <div id="documentation">
    <h1 class="module">Readline</h1>

    <div id="description" class="description">
      
<p>The <a href="Readline.html">Readline</a> module provides interface for GNU
<a href="Readline.html">Readline</a>. This module defines a number of
methods to facilitate completion and accesses input history from the Ruby
interpreter. This module supported Edit Line(libedit) too. libedit is
compatible with GNU <a href="Readline.html">Readline</a>.</p>
<dl class="rdoc-list note-list"><dt>GNU <a href="Readline.html">Readline</a>
<dd>
<p><a
href="http://www.gnu.org/directory/readline.html">www.gnu.org/directory/readline.html</a></p>
</dd><dt>libedit
<dd>
<p><a href="http://www.thrysoee.dk/editline">www.thrysoee.dk/editline</a>/</p>
</dd></dl>

<p>Reads one inputted line with line edit by <a
href="Readline.html#method-c-readline">::readline</a> method. At this time,
the facilitatation completion and the key bind like Emacs can be operated
like GNU <a href="Readline.html">Readline</a>.</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;readline&quot;</span>
<span class="ruby-keyword">while</span> <span class="ruby-identifier">buf</span> = <span class="ruby-constant">Readline</span>.<span class="ruby-identifier">readline</span>(<span class="ruby-string">&quot;&gt; &quot;</span>, <span class="ruby-keyword">true</span>)
  <span class="ruby-identifier">p</span> <span class="ruby-identifier">buf</span>
<span class="ruby-keyword">end</span>
</pre>

<p>The content that the user input can be recorded to the history. The history
can be accessed by Readline::HISTORY constant.</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;readline&quot;</span>
<span class="ruby-keyword">while</span> <span class="ruby-identifier">buf</span> = <span class="ruby-constant">Readline</span>.<span class="ruby-identifier">readline</span>(<span class="ruby-string">&quot;&gt; &quot;</span>, <span class="ruby-keyword">true</span>)
  <span class="ruby-identifier">p</span> <span class="ruby-constant">Readline</span><span class="ruby-operator">::</span><span class="ruby-constant">HISTORY</span>.<span class="ruby-identifier">to_a</span>
  <span class="ruby-identifier">print</span>(<span class="ruby-string">&quot;-&gt; &quot;</span>, <span class="ruby-identifier">buf</span>, <span class="ruby-string">&quot;\n&quot;</span>)
<span class="ruby-keyword">end</span>
</pre>

<p>Most of methods raise SecurityError exception if $SAFE is 4.</p>

<p>Documented by TAKAO Kouji &lt;kouji at takao7 dot net&gt;.</p>

    </div><!-- description -->

    
    
    
    <div id="5Buntitled-5D" class="documentation-section">
      

      

      
      <!-- Constants -->
      <div id="constants-list" class="section">
        <h3 class="section-header">Constants</h3>
        <dl>
        
          <dt><a name="FILENAME_COMPLETION_PROC">FILENAME_COMPLETION_PROC</a></dt>
          
          <dd class="description"><p>The Object with the call method that is a completion for filename. This is
sets by <a
href="Readline.html#method-c-completion_proc-3D">::completion_proc=</a>
method.</p></dd>
          
        
          <dt><a name="HISTORY">HISTORY</a></dt>
          
          <dd class="description"><p>The history buffer. It extends Enumerable module, so it behaves just like
an array. For example, gets the fifth content that the user input by <a
href="4">HISTORY</a>.</p></dd>
          
        
          <dt><a name="USERNAME_COMPLETION_PROC">USERNAME_COMPLETION_PROC</a></dt>
          
          <dd class="description"><p>The Object with the call method that is a completion for usernames. This is
sets by <a
href="Readline.html#method-c-completion_proc-3D">::completion_proc=</a>
method.</p></dd>
          
        
          <dt><a name="VERSION">VERSION</a></dt>
          
          <dd class="description"><p>Version string of GNU <a href="Readline.html">Readline</a> or libedit.</p></dd>
          
        
        </dl>
      </div>
      

      

      <!-- Methods -->
      
      <div id="public-class-method-details" class="method-section section">
        <h3 class="section-header">Public Class Methods</h3>

      
        <div id="basic_quote_characters-method" class="method-detail ">
          <a name="method-c-basic_quote_characters"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">basic_quote_characters &rarr; string</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Gets a list of quote characters which can cause a word break.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>
            

            
            <div class="method-source-code" id="basic_quote_characters-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
readline_s_get_basic_quote_characters(VALUE self, VALUE str)
{
    rb_secure(4);
    if (rl_basic_quote_characters == NULL)
        return Qnil;
    return rb_locale_str_new_cstr(rl_basic_quote_characters);
}
            </pre> 
            </div><!-- basic_quote_characters-source -->
            
          </div>

          

          
        </div><!-- basic_quote_characters-method -->
      
        <div id="basic_quote_characters-3D-method" class="method-detail ">
          <a name="method-c-basic_quote_characters-3D"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">basic_quote_characters = string</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Sets a list of quote characters which can cause a word break.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>
            

            
            <div class="method-source-code" id="basic_quote_characters-3D-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
readline_s_set_basic_quote_characters(VALUE self, VALUE str)
{
    static char *basic_quote_characters = NULL;

    rb_secure(4);
    OutputStringValue(str);
    if (basic_quote_characters == NULL) {
        basic_quote_characters =
            ALLOC_N(char, RSTRING_LEN(str) + 1);
    }
    else {
        REALLOC_N(basic_quote_characters, char, RSTRING_LEN(str) + 1);
    }
    strncpy(basic_quote_characters,
            RSTRING_PTR(str), RSTRING_LEN(str));
    basic_quote_characters[RSTRING_LEN(str)] = '\0';
    rl_basic_quote_characters = basic_quote_characters;

    return self;
}
            </pre> 
            </div><!-- basic_quote_characters-3D-source -->
            
          </div>

          

          
        </div><!-- basic_quote_characters-3D-method -->
      
        <div id="basic_word_break_characters-method" class="method-detail ">
          <a name="method-c-basic_word_break_characters"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">basic_word_break_characters &rarr; string</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Gets the basic list of characters that signal a break between words for the
completer routine.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>
            

            
            <div class="method-source-code" id="basic_word_break_characters-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
readline_s_get_basic_word_break_characters(VALUE self, VALUE str)
{
    rb_secure(4);
    if (rl_basic_word_break_characters == NULL)
        return Qnil;
    return rb_locale_str_new_cstr(rl_basic_word_break_characters);
}
            </pre> 
            </div><!-- basic_word_break_characters-source -->
            
          </div>

          

          
        </div><!-- basic_word_break_characters-method -->
      
        <div id="basic_word_break_characters-3D-method" class="method-detail ">
          <a name="method-c-basic_word_break_characters-3D"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">basic_word_break_characters = string</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Sets the basic list of characters that signal a break between words for the
completer routine. The default is the characters which break words for
completion in Bash: “tn&quot;\‘`@$&gt;&lt;=;|&amp;{(”.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>
            

            
            <div class="method-source-code" id="basic_word_break_characters-3D-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
readline_s_set_basic_word_break_characters(VALUE self, VALUE str)
{
    static char *basic_word_break_characters = NULL;

    rb_secure(4);
    OutputStringValue(str);
    if (basic_word_break_characters == NULL) {
        basic_word_break_characters =
            ALLOC_N(char, RSTRING_LEN(str) + 1);
    }
    else {
        REALLOC_N(basic_word_break_characters, char, RSTRING_LEN(str) + 1);
    }
    strncpy(basic_word_break_characters,
            RSTRING_PTR(str), RSTRING_LEN(str));
    basic_word_break_characters[RSTRING_LEN(str)] = '\0';
    rl_basic_word_break_characters = basic_word_break_characters;
    return self;
}
            </pre> 
            </div><!-- basic_word_break_characters-3D-source -->
            
          </div>

          

          
        </div><!-- basic_word_break_characters-3D-method -->
      
        <div id="completer_quote_characters-method" class="method-detail ">
          <a name="method-c-completer_quote_characters"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">completer_quote_characters &rarr; string</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Gets a list of characters which can be used to quote a substring of the
line.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>
            

            
            <div class="method-source-code" id="completer_quote_characters-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
readline_s_get_completer_quote_characters(VALUE self, VALUE str)
{
    rb_secure(4);
    if (rl_completer_quote_characters == NULL)
        return Qnil;
    return rb_locale_str_new_cstr(rl_completer_quote_characters);
}
            </pre> 
            </div><!-- completer_quote_characters-source -->
            
          </div>

          

          
        </div><!-- completer_quote_characters-method -->
      
        <div id="completer_quote_characters-3D-method" class="method-detail ">
          <a name="method-c-completer_quote_characters-3D"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">completer_quote_characters = string</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Sets a list of characters which can be used to quote a substring of the
line. Completion occurs on the entire substring, and within the substring
<a
href="Readline.html#method-c-completer_word_break_characters">::completer_word_break_characters</a>
are treated as any other character, unless they also appear within this
list.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>
            

            
            <div class="method-source-code" id="completer_quote_characters-3D-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
readline_s_set_completer_quote_characters(VALUE self, VALUE str)
{
    static char *completer_quote_characters = NULL;

    rb_secure(4);
    OutputStringValue(str);
    if (completer_quote_characters == NULL) {
        completer_quote_characters =
            ALLOC_N(char, RSTRING_LEN(str) + 1);
    }
    else {
        REALLOC_N(completer_quote_characters, char, RSTRING_LEN(str) + 1);
    }
    strncpy(completer_quote_characters, RSTRING_PTR(str), RSTRING_LEN(str));
    completer_quote_characters[RSTRING_LEN(str)] = '\0';
    rl_completer_quote_characters = completer_quote_characters;

    return self;
}
            </pre> 
            </div><!-- completer_quote_characters-3D-source -->
            
          </div>

          

          
        </div><!-- completer_quote_characters-3D-method -->
      
        <div id="completer_word_break_characters-method" class="method-detail ">
          <a name="method-c-completer_word_break_characters"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">completer_word_break_characters &rarr; string</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Gets the basic list of characters that signal a break between words for
rl_complete_internal().</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>
            

            
            <div class="method-source-code" id="completer_word_break_characters-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
readline_s_get_completer_word_break_characters(VALUE self, VALUE str)
{
    rb_secure(4);
    if (rl_completer_word_break_characters == NULL)
        return Qnil;
    return rb_locale_str_new_cstr(rl_completer_word_break_characters);
}
            </pre> 
            </div><!-- completer_word_break_characters-source -->
            
          </div>

          

          
        </div><!-- completer_word_break_characters-method -->
      
        <div id="completer_word_break_characters-3D-method" class="method-detail ">
          <a name="method-c-completer_word_break_characters-3D"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">completer_word_break_characters = string</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Sets the basic list of characters that signal a break between words for
rl_complete_internal(). The default is the value of <a
href="Readline.html#method-c-basic_word_break_characters">::basic_word_break_characters</a>.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>
            

            
            <div class="method-source-code" id="completer_word_break_characters-3D-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
readline_s_set_completer_word_break_characters(VALUE self, VALUE str)
{
    static char *completer_word_break_characters = NULL;

    rb_secure(4);
    OutputStringValue(str);
    if (completer_word_break_characters == NULL) {
        completer_word_break_characters =
            ALLOC_N(char, RSTRING_LEN(str) + 1);
    }
    else {
        REALLOC_N(completer_word_break_characters, char, RSTRING_LEN(str) + 1);
    }
    strncpy(completer_word_break_characters,
            RSTRING_PTR(str), RSTRING_LEN(str));
    completer_word_break_characters[RSTRING_LEN(str)] = '\0';
    rl_completer_word_break_characters = completer_word_break_characters;
    return self;
}
            </pre> 
            </div><!-- completer_word_break_characters-3D-source -->
            
          </div>

          

          
        </div><!-- completer_word_break_characters-3D-method -->
      
        <div id="completion_append_character-method" class="method-detail ">
          <a name="method-c-completion_append_character"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">completion_append_character &rarr; char</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Returns a string containing a character to be appended on completion. The
default is a space (“ ”).</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>
            

            
            <div class="method-source-code" id="completion_append_character-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
readline_s_get_completion_append_character(VALUE self)
{
    char buf[1];

    rb_secure(4);
    if (rl_completion_append_character == '\0')
        return Qnil;

    buf[0] = (char) rl_completion_append_character;
    return rb_locale_str_new(buf, 1);
}
            </pre> 
            </div><!-- completion_append_character-source -->
            
          </div>

          

          
        </div><!-- completion_append_character-method -->
      
        <div id="completion_append_character-3D-method" class="method-detail ">
          <a name="method-c-completion_append_character-3D"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">completion_append_character = char</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Specifies a character to be appended on completion. Nothing will be
appended if an empty string (“”) or nil is specified.</p>

<p>For example:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;readline&quot;</span>

<span class="ruby-constant">Readline</span>.<span class="ruby-identifier">readline</span>(<span class="ruby-string">&quot;&gt; &quot;</span>, <span class="ruby-keyword">true</span>)
<span class="ruby-constant">Readline</span>.<span class="ruby-identifier">completion_append_character</span> = <span class="ruby-string">&quot; &quot;</span>
</pre>

<p>Result:</p>

<pre>&gt;
Input &quot;/var/li&quot;.

&gt; /var/li
Press TAB key.

&gt; /var/lib
Completes &quot;b&quot; and appends &quot; &quot;. So, you can continuously input &quot;/usr&quot;.

&gt; /var/lib /usr</pre>

<p>NOTE: Only one character can be specified. When “string” is specified, sets
only “s” that is the first.</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;readline&quot;</span>

<span class="ruby-constant">Readline</span>.<span class="ruby-identifier">completion_append_character</span> = <span class="ruby-string">&quot;string&quot;</span>
<span class="ruby-identifier">p</span> <span class="ruby-constant">Readline</span>.<span class="ruby-identifier">completion_append_character</span> <span class="ruby-comment"># =&gt; &quot;s&quot;</span>
</pre>

<p>Raises NotImplementedError if the using readline library does not support.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>
            

            
            <div class="method-source-code" id="completion_append_character-3D-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
readline_s_set_completion_append_character(VALUE self, VALUE str)
{
    rb_secure(4);
    if (NIL_P(str)) {
        rl_completion_append_character = '\0';
    }
    else {
        OutputStringValue(str);
        if (RSTRING_LEN(str) == 0) {
            rl_completion_append_character = '\0';
        } else {
            rl_completion_append_character = RSTRING_PTR(str)[0];
        }
    }
    return self;
}
            </pre> 
            </div><!-- completion_append_character-3D-source -->
            
          </div>

          

          
        </div><!-- completion_append_character-3D-method -->
      
        <div id="completion_case_fold-method" class="method-detail ">
          <a name="method-c-completion_case_fold"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">completion_case_fold &rarr; bool</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Returns true if completion ignores case. If no, returns false.</p>

<p>NOTE: Returns the same object that is specified by <a
href="Readline.html#method-c-completion_case_fold-3D">::completion_case_fold=</a>
method.</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;readline&quot;</span>

<span class="ruby-constant">Readline</span>.<span class="ruby-identifier">completion_case_fold</span> = <span class="ruby-string">&quot;This is a String.&quot;</span>
<span class="ruby-identifier">p</span> <span class="ruby-constant">Readline</span>.<span class="ruby-identifier">completion_case_fold</span> <span class="ruby-comment"># =&gt; &quot;This is a String.&quot;</span>
</pre>

<p>Raises SecurityError exception if $SAFE is 4.</p>
            

            
            <div class="method-source-code" id="completion_case_fold-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
readline_s_get_completion_case_fold(VALUE self)
{
    rb_secure(4);
    return rb_attr_get(mReadline, completion_case_fold);
}
            </pre> 
            </div><!-- completion_case_fold-source -->
            
          </div>

          

          
        </div><!-- completion_case_fold-method -->
      
        <div id="completion_case_fold-3D-method" class="method-detail ">
          <a name="method-c-completion_case_fold-3D"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">completion_case_fold = bool</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Sets whether or not to ignore case on completion.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>
            

            
            <div class="method-source-code" id="completion_case_fold-3D-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
readline_s_set_completion_case_fold(VALUE self, VALUE val)
{
    rb_secure(4);
    return rb_ivar_set(mReadline, completion_case_fold, val);
}
            </pre> 
            </div><!-- completion_case_fold-3D-source -->
            
          </div>

          

          
        </div><!-- completion_case_fold-3D-method -->
      
        <div id="completion_proc-method" class="method-detail ">
          <a name="method-c-completion_proc"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">completion_proc &rarr; proc</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Returns the completion Proc object.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>
            

            
            <div class="method-source-code" id="completion_proc-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
readline_s_get_completion_proc(VALUE self)
{
    rb_secure(4);
    return rb_attr_get(mReadline, completion_proc);
}
            </pre> 
            </div><!-- completion_proc-source -->
            
          </div>

          

          
        </div><!-- completion_proc-method -->
      
        <div id="completion_proc-3D-method" class="method-detail ">
          <a name="method-c-completion_proc-3D"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">completion_proc = proc</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Specifies a Proc object <code>proc</code> to determine completion behavior.
It should take input string and return an array of completion candidates.</p>

<p>The default completion is used if <code>proc</code> is nil.</p>

<p>The String that is passed to the Proc depends on the <a
href="Readline.html#method-c-completer_word_break_characters">::completer_word_break_characters</a>
property.  By default the word under the cursor is passed to the Proc.  For
example, if the input is “foo bar” then only “bar” would be passed to the
completion Proc.</p>

<p>Upon successful completion the <a
href="Readline.html#method-c-completion_append_character">::completion_append_character</a>
will be appended to the input so the user can start working on their next
argument.</p>

<h1 id="method-c-completion_proc-3D-label-Examples">Examples<span><a href="#method-c-completion_proc-3D-label-Examples">&para;</a> <a href="#documentation">&uarr;</a></span></h1>

<h2 id="method-c-completion_proc-3D-label-Completion+for+a+Static+List">Completion for a Static List<span><a href="#method-c-completion_proc-3D-label-Completion+for+a+Static+List">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'readline'</span>

<span class="ruby-constant">LIST</span> = [
  <span class="ruby-string">'search'</span>, <span class="ruby-string">'download'</span>, <span class="ruby-string">'open'</span>,
  <span class="ruby-string">'help'</span>, <span class="ruby-string">'history'</span>, <span class="ruby-string">'quit'</span>,
  <span class="ruby-string">'url'</span>, <span class="ruby-string">'next'</span>, <span class="ruby-string">'clear'</span>,
  <span class="ruby-string">'prev'</span>, <span class="ruby-string">'past'</span>
].<span class="ruby-identifier">sort</span>

<span class="ruby-identifier">comp</span> = <span class="ruby-identifier">proc</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span> <span class="ruby-constant">LIST</span>.<span class="ruby-identifier">grep</span>(<span class="ruby-node">/^#{Regexp.escape(s)}/</span>) }

<span class="ruby-constant">Readline</span>.<span class="ruby-identifier">completion_append_character</span> = <span class="ruby-string">&quot; &quot;</span>
<span class="ruby-constant">Readline</span>.<span class="ruby-identifier">completion_proc</span> = <span class="ruby-identifier">comp</span>

<span class="ruby-keyword">while</span> <span class="ruby-identifier">line</span> = <span class="ruby-constant">Readline</span>.<span class="ruby-identifier">readline</span>(<span class="ruby-string">'&gt; '</span>, <span class="ruby-keyword">true</span>)
  <span class="ruby-identifier">p</span> <span class="ruby-identifier">line</span>
<span class="ruby-keyword">end</span>
</pre>

<h2 id="method-c-completion_proc-3D-label-Completion+For+Directory+Contents">Completion For Directory Contents<span><a href="#method-c-completion_proc-3D-label-Completion+For+Directory+Contents">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'readline'</span>

<span class="ruby-constant">Readline</span>.<span class="ruby-identifier">completion_append_character</span> = <span class="ruby-string">&quot; &quot;</span>
<span class="ruby-constant">Readline</span>.<span class="ruby-identifier">completion_proc</span> = <span class="ruby-constant">Proc</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">str</span><span class="ruby-operator">|</span>
  <span class="ruby-constant">Dir</span>[<span class="ruby-identifier">str</span><span class="ruby-operator">+</span><span class="ruby-string">'*'</span>].<span class="ruby-identifier">grep</span>(<span class="ruby-node">/^#{Regexp.escape(str)}/</span>)
<span class="ruby-keyword">end</span>

<span class="ruby-keyword">while</span> <span class="ruby-identifier">line</span> = <span class="ruby-constant">Readline</span>.<span class="ruby-identifier">readline</span>(<span class="ruby-string">'&gt; '</span>, <span class="ruby-keyword">true</span>)
  <span class="ruby-identifier">p</span> <span class="ruby-identifier">line</span>
<span class="ruby-keyword">end</span>
</pre>

<h1 id="method-c-completion_proc-3D-label-Autocomplete+strategies">Autocomplete strategies<span><a href="#method-c-completion_proc-3D-label-Autocomplete+strategies">&para;</a> <a href="#documentation">&uarr;</a></span></h1>

<p>When working with auto-complete there are some strategies that work well.
To get some ideas you can take a look at the <a
href="http://svn.ruby-lang.org/repos/ruby/trunk/lib/irb/completion.rb">completion.rb</a>
file for irb.</p>

<p>The common strategy is to take a list of possible completions and filter it
down to those completions that start with the user input.  In the above
examples Enumerator.grep is used.  The input is escaped to prevent Regexp
special characters from interfering with the matching.</p>

<p>It may also be helpful to use the Abbrev library to generate completions.</p>

<p>Raises ArgumentError if <code>proc</code> does not respond to the call
method.</p>

<p>Raises SecurityError if $SAFE is 4.</p>
            

            
            <div class="method-source-code" id="completion_proc-3D-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
readline_s_set_completion_proc(VALUE self, VALUE proc)
{
    rb_secure(4);
    if (!NIL_P(proc) &amp;&amp; !rb_respond_to(proc, rb_intern(&quot;call&quot;)))
        rb_raise(rb_eArgError, &quot;argument must respond to `call'&quot;);
    return rb_ivar_set(mReadline, completion_proc, proc);
}
            </pre> 
            </div><!-- completion_proc-3D-source -->
            
          </div>

          

          
        </div><!-- completion_proc-3D-method -->
      
        <div id="emacs_editing_mode-method" class="method-detail ">
          <a name="method-c-emacs_editing_mode"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">emacs_editing_mode &rarr; nil</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Specifies Emacs editing mode. The default is this mode. See the manual of
GNU <a href="Readline.html">Readline</a> for details of Emacs editing mode.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>
            

            
            <div class="method-source-code" id="emacs_editing_mode-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
readline_s_emacs_editing_mode(VALUE self)
{
    rb_secure(4);
    rl_emacs_editing_mode(1,0);
    return Qnil;
}
            </pre> 
            </div><!-- emacs_editing_mode-source -->
            
          </div>

          

          
        </div><!-- emacs_editing_mode-method -->
      
        <div id="emacs_editing_mode-3F-method" class="method-detail ">
          <a name="method-c-emacs_editing_mode-3F"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">emacs_editing_mode? &rarr; bool</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Returns true if emacs mode is active. Returns false if not.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>
            

            
            <div class="method-source-code" id="emacs_editing_mode-3F-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
readline_s_emacs_editing_mode_p(VALUE self)
{
    rb_secure(4);
    return rl_editing_mode == 1 ? Qtrue : Qfalse;
}
            </pre> 
            </div><!-- emacs_editing_mode-3F-source -->
            
          </div>

          

          
        </div><!-- emacs_editing_mode-3F-method -->
      
        <div id="filename_quote_characters-method" class="method-detail ">
          <a name="method-c-filename_quote_characters"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">filename_quote_characters &rarr; string</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Gets a list of characters that cause a filename to be quoted by the
completer when they appear in a completed filename.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>
            

            
            <div class="method-source-code" id="filename_quote_characters-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
readline_s_get_filename_quote_characters(VALUE self, VALUE str)
{
    rb_secure(4);
    if (rl_filename_quote_characters == NULL)
        return Qnil;
    return rb_locale_str_new_cstr(rl_filename_quote_characters);
}
            </pre> 
            </div><!-- filename_quote_characters-source -->
            
          </div>

          

          
        </div><!-- filename_quote_characters-method -->
      
        <div id="filename_quote_characters-3D-method" class="method-detail ">
          <a name="method-c-filename_quote_characters-3D"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">filename_quote_characters = string</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Sets a list of characters that cause a filename to be quoted by the
completer when they appear in a completed filename. The default is nil.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>
            

            
            <div class="method-source-code" id="filename_quote_characters-3D-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
readline_s_set_filename_quote_characters(VALUE self, VALUE str)
{
    static char *filename_quote_characters = NULL;

    rb_secure(4);
    OutputStringValue(str);
    if (filename_quote_characters == NULL) {
        filename_quote_characters =
            ALLOC_N(char, RSTRING_LEN(str) + 1);
    }
    else {
        REALLOC_N(filename_quote_characters, char, RSTRING_LEN(str) + 1);
    }
    strncpy(filename_quote_characters, RSTRING_PTR(str), RSTRING_LEN(str));
    filename_quote_characters[RSTRING_LEN(str)] = '\0';
    rl_filename_quote_characters = filename_quote_characters;

    return self;
}
            </pre> 
            </div><!-- filename_quote_characters-3D-source -->
            
          </div>

          

          
        </div><!-- filename_quote_characters-3D-method -->
      
        <div id="get_screen_size-method" class="method-detail ">
          <a name="method-c-get_screen_size"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">get_screen_size &rarr; [rows, columns]</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Returns the terminal’s rows and columns.</p>

<p>See GNU Readline’s rl_get_screen_size function.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>
            

            
            <div class="method-source-code" id="get_screen_size-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
readline_s_get_screen_size(VALUE self)
{
    int rows, columns;
    VALUE res;

    rb_secure(4);
    rl_get_screen_size(&amp;rows, &amp;columns);
    res = rb_ary_new();
    rb_ary_push(res, INT2NUM(rows));
    rb_ary_push(res, INT2NUM(columns));
    return res;
}
            </pre> 
            </div><!-- get_screen_size-source -->
            
          </div>

          

          
        </div><!-- get_screen_size-method -->
      
        <div id="input-3D-method" class="method-detail ">
          <a name="method-c-input-3D"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">input = input</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Specifies a File object <code>input</code> that is input stream for <a
href="Readline.html#method-c-readline">::readline</a> method.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>
            

            
            <div class="method-source-code" id="input-3D-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
readline_s_set_input(VALUE self, VALUE input)
{
    rb_io_t *ifp;

    rb_secure(4);
    Check_Type(input, T_FILE);
    GetOpenFile(input, ifp);
    rl_instream = rb_io_stdio_file(ifp);
#ifdef HAVE_RL_GETC_FUNCTION
    readline_instream = input;
#endif
    return input;
}
            </pre> 
            </div><!-- input-3D-source -->
            
          </div>

          

          
        </div><!-- input-3D-method -->
      
        <div id="line_buffer-method" class="method-detail ">
          <a name="method-c-line_buffer"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">line_buffer &rarr; string</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Returns the full line that is being edited. This is useful from within the
complete_proc for determining the context of the completion request.</p>

<p>The length of <code>Readline.line_buffer</code> and GNU Readline’s rl_end
are same.</p>
            

            
            <div class="method-source-code" id="line_buffer-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
readline_s_get_line_buffer(VALUE self)
{
    rb_secure(4);
    if (rl_line_buffer == NULL)
        return Qnil;
    return rb_locale_str_new_cstr(rl_line_buffer);
}
            </pre> 
            </div><!-- line_buffer-source -->
            
          </div>

          

          
        </div><!-- line_buffer-method -->
      
        <div id="output-3D-method" class="method-detail ">
          <a name="method-c-output-3D"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">output = output</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Specifies a File object <code>output</code> that is output stream for <a
href="Readline.html#method-c-readline">::readline</a> method.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>
            

            
            <div class="method-source-code" id="output-3D-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
readline_s_set_output(VALUE self, VALUE output)
{
    rb_io_t *ofp;

    rb_secure(4);
    Check_Type(output, T_FILE);
    GetOpenFile(output, ofp);
    rl_outstream = rb_io_stdio_file(ofp);
    return output;
}
            </pre> 
            </div><!-- output-3D-source -->
            
          </div>

          

          
        </div><!-- output-3D-method -->
      
        <div id="point-method" class="method-detail ">
          <a name="method-c-point"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">point &rarr; int</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Returns the index of the current cursor position in
<code>Readline.line_buffer</code>.</p>

<p>The index in <code>Readline.line_buffer</code> which matches the start of
input-string passed to <a
href="Readline.html#method-c-completion_proc">::completion_proc</a> is
computed by subtracting the length of input-string from
<code>Readline.point</code>.</p>

<pre>start = (the length of input-string) - Readline.point</pre>
            

            
            <div class="method-source-code" id="point-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
readline_s_get_point(VALUE self)
{
    rb_secure(4);
    return INT2NUM(rl_point);
}
            </pre> 
            </div><!-- point-source -->
            
          </div>

          

          
        </div><!-- point-method -->
      
        <div id="readline-method" class="method-detail ">
          <a name="method-c-readline"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">readline(prompt = "", add_hist = false) &rarr; string or nil</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Shows the <code>prompt</code> and reads the inputted line with line
editing. The inputted line is added to the history if <code>add_hist</code>
is true.</p>

<p>Returns nil when the inputted line is empty and user inputs EOF (Presses ^D
on UNIX).</p>

<p>Raises IOError exception if below conditions are satisfied.</p>
<ol><li>
<p>stdin is not tty.</p>
</li><li>
<p>stdin was closed. (errno is EBADF after called isatty(2).)</p>
</li></ol>

<p>This method supports thread. Switchs the thread context when waits
inputting line.</p>

<p>Supports line edit when inputs line. Provides VI and Emacs editing mode.
Default is Emacs editing mode.</p>

<p>NOTE: Terminates ruby interpreter and does not return the terminal status
after user pressed ‘^C’ when wait inputting line. Give 3 examples that
avoid it.</p>
<ul><li>
<p>Catches the Interrupt exception by pressed ^C after returns terminal
status:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;readline&quot;</span>

<span class="ruby-identifier">stty_save</span> = <span class="ruby-value">%xstty -g`</span>.<span class="ruby-identifier">chomp</span>
<span class="ruby-keyword">begin</span>
  <span class="ruby-keyword">while</span> <span class="ruby-identifier">buf</span> = <span class="ruby-constant">Readline</span>.<span class="ruby-identifier">readline</span>
      <span class="ruby-identifier">p</span> <span class="ruby-identifier">buf</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Interrupt</span>
      <span class="ruby-identifier">system</span>(<span class="ruby-string">&quot;stty&quot;</span>, <span class="ruby-identifier">stty_save</span>)
      <span class="ruby-identifier">exit</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>
</li><li>
<p>Catches the INT signal by pressed ^C after returns terminal status:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;readline&quot;</span>

<span class="ruby-identifier">stty_save</span> = <span class="ruby-value">%xstty -g`</span>.<span class="ruby-identifier">chomp</span>
<span class="ruby-identifier">trap</span>(<span class="ruby-string">&quot;INT&quot;</span>) { <span class="ruby-identifier">system</span> <span class="ruby-string">&quot;stty&quot;</span>, <span class="ruby-identifier">stty_save</span>; <span class="ruby-identifier">exit</span> }

<span class="ruby-keyword">while</span> <span class="ruby-identifier">buf</span> = <span class="ruby-constant">Readline</span>.<span class="ruby-identifier">readline</span>
  <span class="ruby-identifier">p</span> <span class="ruby-identifier">buf</span>
<span class="ruby-keyword">end</span>
</pre>
</li><li>
<p>Ignores pressing ^C:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;readline&quot;</span>

<span class="ruby-identifier">trap</span>(<span class="ruby-string">&quot;INT&quot;</span>, <span class="ruby-string">&quot;SIG_IGN&quot;</span>)

<span class="ruby-keyword">while</span> <span class="ruby-identifier">buf</span> = <span class="ruby-constant">Readline</span>.<span class="ruby-identifier">readline</span>
  <span class="ruby-identifier">p</span> <span class="ruby-identifier">buf</span>
<span class="ruby-keyword">end</span>
</pre>
</li></ul>

<p>Can make as follows with Readline::HISTORY constant. It does not record to
the history if the inputted line is empty or the same it as last one.</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;readline&quot;</span>

<span class="ruby-keyword">while</span> <span class="ruby-identifier">buf</span> = <span class="ruby-constant">Readline</span>.<span class="ruby-identifier">readline</span>(<span class="ruby-string">&quot;&gt; &quot;</span>, <span class="ruby-keyword">true</span>)
  <span class="ruby-comment"># p Readline::HISTORY.to_a</span>
  <span class="ruby-constant">Readline</span><span class="ruby-operator">::</span><span class="ruby-constant">HISTORY</span>.<span class="ruby-identifier">pop</span> <span class="ruby-keyword">if</span> <span class="ruby-regexp">/^\s*$/</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">buf</span>

  <span class="ruby-keyword">begin</span>
    <span class="ruby-keyword">if</span> <span class="ruby-constant">Readline</span><span class="ruby-operator">::</span><span class="ruby-constant">HISTORY</span>[<span class="ruby-constant">Readline</span><span class="ruby-operator">::</span><span class="ruby-constant">HISTORY</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">2</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">buf</span>
      <span class="ruby-constant">Readline</span><span class="ruby-operator">::</span><span class="ruby-constant">HISTORY</span>.<span class="ruby-identifier">pop</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">IndexError</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># p Readline::HISTORY.to_a</span>
  <span class="ruby-identifier">print</span> <span class="ruby-string">&quot;-&gt; &quot;</span>, <span class="ruby-identifier">buf</span>, <span class="ruby-string">&quot;\n&quot;</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Raises SecurityError exception if $SAFE is 4.</p>
            

            
            <div class="method-source-code" id="readline-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
readline_readline(int argc, VALUE *argv, VALUE self)
{
    VALUE tmp, add_hist, result;
    char *prompt = NULL;
    char *buff;
    int status;

    rb_secure(4);
    if (rb_scan_args(argc, argv, &quot;02&quot;, &amp;tmp, &amp;add_hist) &gt; 0) {
        OutputStringValue(tmp);
#if USE_INSERT_IGNORE_ESCAPE
        tmp = insert_ignore_escape(self, tmp);
        rb_str_locktmp(tmp);
#endif
        prompt = RSTRING_PTR(tmp);
    }

    if (!isatty(fileno(rl_instream)) &amp;&amp; errno == EBADF) rb_raise(rb_eIOError, &quot;closed stdin&quot;);
    if (rl_outstream) {
        struct stat stbuf;
        int fd = fileno(rl_outstream);
        if (fd &lt; 0 || fstat(fd, &amp;stbuf) != 0) {
            rb_raise(rb_eIOError, &quot;closed stdout&quot;);
        }
    }

#ifdef _WIN32
    rl_prep_terminal(1);
#endif
    buff = (char*)rb_protect(readline_get, (VALUE)prompt, &amp;status);
#if USE_INSERT_IGNORE_ESCAPE
    if (prompt) {
        rb_str_unlocktmp(tmp);
    }
#endif
    if (status) {
#if defined HAVE_RL_CLEANUP_AFTER_SIGNAL
        /* restore terminal mode and signal handler*/
#if defined HAVE_RL_FREE_LINE_STATE
        rl_free_line_state();
#endif
        rl_cleanup_after_signal();
#elif defined HAVE_RL_DEPREP_TERM_FUNCTION
        /* restore terminal mode */
        if (rl_deprep_term_function != NULL) /* NULL in libedit. [ruby-dev:29116] */
            (*rl_deprep_term_function)();
        else
#else
        rl_deprep_terminal();
#endif
        rb_jump_tag(status);
    }

    if (RTEST(add_hist) &amp;&amp; buff) {
        add_history(buff);
    }
    if (buff) {
        result = rb_locale_str_new_cstr(buff);
    }
    else
        result = Qnil;
    if (buff) free(buff);
    return result;
}
            </pre> 
            </div><!-- readline-source -->
            
          </div>

          

          
        </div><!-- readline-method -->
      
        <div id="refresh_line-method" class="method-detail ">
          <a name="method-c-refresh_line"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">refresh_line &rarr; nil</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Clear the current input line.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>
            

            
            <div class="method-source-code" id="refresh_line-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
readline_s_refresh_line(VALUE self)
{
    rb_secure(4);
    rl_refresh_line(0, 0);
    return Qnil;
}
            </pre> 
            </div><!-- refresh_line-source -->
            
          </div>

          

          
        </div><!-- refresh_line-method -->
      
        <div id="set_screen_size-method" class="method-detail ">
          <a name="method-c-set_screen_size"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">set_screen_size(rows, columns) &rarr; self</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Set terminal size to <code>rows</code> and <code>columns</code>.</p>

<p>See GNU Readline’s rl_set_screen_size function.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>
            

            
            <div class="method-source-code" id="set_screen_size-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
readline_s_set_screen_size(VALUE self, VALUE rows, VALUE columns)
{
    rb_secure(4);
    rl_set_screen_size(NUM2INT(rows), NUM2INT(columns));
    return self;
}
            </pre> 
            </div><!-- set_screen_size-source -->
            
          </div>

          

          
        </div><!-- set_screen_size-method -->
      
        <div id="vi_editing_mode-method" class="method-detail ">
          <a name="method-c-vi_editing_mode"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">vi_editing_mode &rarr; nil</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Specifies VI editing mode. See the manual of GNU <a
href="Readline.html">Readline</a> for details of VI editing mode.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>
            

            
            <div class="method-source-code" id="vi_editing_mode-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
readline_s_vi_editing_mode(VALUE self)
{
    rb_secure(4);
    rl_vi_editing_mode(1,0);
    return Qnil;
}
            </pre> 
            </div><!-- vi_editing_mode-source -->
            
          </div>

          

          
        </div><!-- vi_editing_mode-method -->
      
        <div id="vi_editing_mode-3F-method" class="method-detail ">
          <a name="method-c-vi_editing_mode-3F"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">vi_editing_mode? &rarr; bool</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Returns true if vi mode is active. Returns false if not.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>

<p>Raises SecurityError exception if $SAFE is 4.</p>
            

            
            <div class="method-source-code" id="vi_editing_mode-3F-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
readline_s_vi_editing_mode_p(VALUE self)
{
    rb_secure(4);
    return rl_editing_mode == 0 ? Qtrue : Qfalse;
}
            </pre> 
            </div><!-- vi_editing_mode-3F-source -->
            
          </div>

          

          
        </div><!-- vi_editing_mode-3F-method -->
      
      </div><!-- public-class-method-details -->
    
    </div><!-- 5Buntitled-5D -->
  
  <div id='tx_Readline_versioned' class='associated_wrapper'></div><script type='text/javascript'>$("#tx_Readline_versioned").load("/associated/1.9.3/Readline.html");</script> <div id='tx_Readline' class='associated_wrapper'></div><script type='text/javascript'>$("#tx_Readline").load("/associated/Readline.html");</script> 
      
  </div><!-- documentation -->
  <div id='dynamic'>
  </div>
      
<div class='grids wrapper' id="footer">
  <p><small>This page was generated for Ruby 1.9.3</small></p> 
  
   <p><a href="http://www.ruby-doc.org">Ruby-doc.org</a> is provided by <a href="http://www.jamesbritt.com">James Britt</a> and <a href="http://www.neurogami.com">Neurogami</a>. <a href="http://www.neurogami.com">Hack your world.  Feed your head.  Live curious</a>.</p>
 
    <p><small>Generated with Ruby-doc Rdoc Generator 0.26.0</small>.</p>
  </div>
</div>
  
 <script type='text/javascript'>
$(document).ready(function() {
      $.ajaxSetup({ cache: false });
      $("#vulns-alert").load("/associated/vulns.html");
    });

    </script>


 
    <script type='text/javascript'>

  function loadPlus(plusdocs){
    var img_h = $("img.carbonad-image").css('height');
    //if(img_h != undefined) { //---
      $(plusdocs).find("div[class='associated_wrapper']").each (function() {
          $("#" + this.id).append($(plusdocs).find("#" + this.id ));
          });
    //} // ---
  } // end loadPlusdocs


$(document).ready(function() {
    $.ajaxSetup({ cache: false });
      $.get('/associated/1.9.3/plus_Readline.html', 
      function(plusdocs) {
      setTimeout(function() {
        loadPlus(plusdocs);
        }, 2000);
      }
      );
    });
</script>
		
</body>
</html>


